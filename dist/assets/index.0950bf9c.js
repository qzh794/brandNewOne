import{b as a}from"./bread_crumb.4eb40394.js";import{j as e,k as t,l}from"./product.b4aa5403.js";import{h as r,j as o,k as u,r as p,o as n,c as d,a as s,l as c,t as i,Q as _,w as b,F as v,x as m}from"./vendor.24bb91d8.js";import"./index.1dd724be.js";const g={class:"table-wrapped"},w={class:"table-top"},f={class:"table-header"},h={class:"search-wrapped"},y={class:"table-content"},x={class:"table-footer"};var C=r({__name:"index",setup(r){const C=o(),j=o({first:"产品管理",second:"出库列表"}),P=o(),k=o([]),V=u({pageCount:1,currentPage:1}),z=o(0);(async()=>{const a=await e();z.value=a.length,V.pageCount=Math.ceil(a.length/10)})();const F=async()=>{k.value=await t(1)};F();const I=async a=>{V.currentPage=a,k.value=await t(V.currentPage)};return(e,t)=>{const r=p("el-input"),o=p("el-table-column"),u=p("el-table"),M=p("el-pagination");return n(),d(v,null,[s(a,{ref_key:"breadcrumb",ref:C,item:j.value},null,8,["item"]),c("div",g,[c("div",w,[c("div",f,[c("div",h,[s(r,{modelValue:P.value,"onUpdate:modelValue":t[0]||(t[0]=a=>P.value=a),class:"w-50 m-2",size:"large",placeholder:"输入出库编号进行搜索","prefix-icon":i(_),onChange:t[1]||(t[1]=a=>(async()=>{k.value=await l(P.value)})()),clearable:"",onClear:F},null,8,["modelValue","prefix-icon"])])]),c("div",y,[s(u,{data:k.value,border:"",style:{width:"100%"}},{default:b((()=>[s(o,{type:"index",width:"50"}),s(o,{prop:"product_out_id",label:"出库编号",width:"200"}),s(o,{prop:"product_out_number",label:"申请数量"}),s(o,{prop:"product_out_price",label:"申请出库总价"}),s(o,{prop:"product_out_apply_person",label:"出库申请人"}),s(o,{prop:"product_apply_time",label:"申请出库时间",width:"180"},{default:b((({row:a})=>{var e;return[c("div",null,m(null==(e=a.product_apply_time)?void 0:e.slice(0,10)),1)]})),_:1}),s(o,{prop:"product_out_audit_person",label:"审核人"}),s(o,{prop:"product_audit_time",label:"审核时间",width:"180"},{default:b((({row:a})=>{var e;return[c("div",null,m(null==(e=a.product_audit_time)?void 0:e.slice(0,10)),1)]})),_:1}),s(o,{prop:"audit_memo",label:"审核备注",width:"200"})])),_:1},8,["data"])])]),c("div",x,[s(M,{"page-size":1,"ccurrent-page":V.currentPage,"pager-count":7,total:z.value,"page-count":V.pageCount,onCurrentChange:I,layout:"prev, pager, next"},null,8,["ccurrent-page","total","page-count"])])])],64)}}});C.__scopeId="data-v-0e5df18f";export{C as default};
