import{b as e}from"./mitt.dc7cd694.js";import{h as l,g as a,i as t}from"./userinfor.d19d596f.js";import{e as o}from"./setting.1fe42162.js";import{h as u,j as d,k as r,y as s,r as m,o as n,A as i,w as p,l as c,a as g,m as f,c as b,B as V,F as _,n as v}from"./vendor.24bb91d8.js";const x={class:"dialog-content"},w={class:"dialog-footer"};var y=u({__name:"create_admin",setup(a,{expose:t}){const u=d();e.on("createId",(e=>{1==e&&(u.value="新建产品管理员"),2==e&&(u.value="新建用户管理员"),3==e&&(u.value="新建消息管理员")}));const y=d([]);(async()=>{y.value=await o()})();const U=r({account:null,password:"",name:"",sex:"",email:"",department:"",identity:"产品管理员"}),q=r({account:[{required:!0,message:"请输入管理员的注册账号",trigger:"blur"}],password:[{required:!0,message:"请输入管理员的注册密码",trigger:"blur"}],name:[{required:!0,message:"请输入管理员的名字",trigger:"blur"}],sex:[{required:!0,message:"请输入管理员的性别",trigger:"blur"}],email:[{required:!0,message:"请输入管理员的邮箱",trigger:"blur"}],department:[{required:!0,message:"请输入管理员的部门",trigger:"blur"}]}),h=async()=>{0==(await l(U)).status?(v({message:"创建管理员成功",type:"success"}),e.emit("adminDialogOff",1),j.value=!1):(v.error("创建管理员失败"),j.value=!1)},j=d(!1);return t({open:()=>{j.value=!0}}),s((()=>{e.all.clear()})),(e,l)=>{const a=m("el-input"),t=m("el-form-item"),o=m("el-option"),d=m("el-select"),r=m("el-form"),s=m("el-button"),v=m("el-dialog");return n(),i(v,{modelValue:j.value,"onUpdate:modelValue":l[6]||(l[6]=e=>j.value=e),title:u.value,width:"600px","align-center":"",draggable:""},{footer:p((()=>[c("span",w,[g(s,{type:"primary",onClick:h},{default:p((()=>[f(" 确定 ")])),_:1})])])),default:p((()=>[c("div",x,[g(r,{ref:"ruleFormRef",model:U,rules:q,"label-width":"100px"},{default:p((()=>[g(t,{label:"账号",prop:"account"},{default:p((()=>[g(a,{modelValue:U.account,"onUpdate:modelValue":l[0]||(l[0]=e=>U.account=e)},null,8,["modelValue"])])),_:1}),g(t,{label:"密码",prop:"password"},{default:p((()=>[g(a,{modelValue:U.password,"onUpdate:modelValue":l[1]||(l[1]=e=>U.password=e)},null,8,["modelValue"])])),_:1}),g(t,{label:"姓名",prop:"name"},{default:p((()=>[g(a,{modelValue:U.name,"onUpdate:modelValue":l[2]||(l[2]=e=>U.name=e)},null,8,["modelValue"])])),_:1}),g(t,{label:"性别",prop:"sex"},{default:p((()=>[g(d,{modelValue:U.sex,"onUpdate:modelValue":l[3]||(l[3]=e=>U.sex=e),placeholder:"请选择性别"},{default:p((()=>[g(o,{label:"男",value:"男"}),g(o,{label:"女",value:"女"})])),_:1},8,["modelValue"])])),_:1}),g(t,{label:"邮箱",prop:"email"},{default:p((()=>[g(a,{modelValue:U.email,"onUpdate:modelValue":l[4]||(l[4]=e=>U.email=e)},null,8,["modelValue"])])),_:1}),g(t,{label:"部门",prop:"department"},{default:p((()=>[g(d,{modelValue:U.department,"onUpdate:modelValue":l[5]||(l[5]=e=>U.department=e),placeholder:"请选择部门"},{default:p((()=>[(n(!0),b(_,null,V(y.value,(e=>(n(),i(o,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])])),_:1},8,["modelValue","title"])}}});y.__scopeId="data-v-4e6af551";const U={class:"dialog-content"},q={class:"dialog-footer"};var h=u({__name:"edit_admin",setup(l,{expose:o}){e.on("editId",(async e=>{const l=await a(e);u.id=l.id,u.account=l.account,u.name=l.name,u.sex=l.sex,u.email=l.email,u.department=l.department}));const u=r({id:null,account:null,name:"",sex:"",email:"",department:""}),b=r({account:[{required:!0,message:"请输入管理员的注册账号",trigger:"blur"}],name:[{required:!0,message:"请输入管理员的名字",trigger:"blur"}],sex:[{required:!0,message:"请输入管理员的性别",trigger:"blur"}],email:[{required:!0,message:"请输入管理员的邮箱",trigger:"blur"}],department:[{required:!0,message:"请输入管理员的部门",trigger:"blur"}]}),V=async()=>{0==(await t(u)).status?(v({message:"编辑管理员信息成功",type:"success"}),e.emit("adminDialogOff",2),_.value=!1):(v.error("编辑管理员信息失败"),_.value=!1)},_=d(!1);return o({open:()=>{_.value=!0}}),s((()=>{e.all.clear()})),(e,l)=>{const a=m("el-input"),t=m("el-form-item"),o=m("el-option"),d=m("el-select"),r=m("el-form"),s=m("el-button"),v=m("el-dialog");return n(),i(v,{modelValue:_.value,"onUpdate:modelValue":l[5]||(l[5]=e=>_.value=e),title:"编辑管理员信息",width:"600px","align-center":"",draggable:""},{footer:p((()=>[c("span",q,[g(s,{type:"primary",onClick:V},{default:p((()=>[f(" 确定 ")])),_:1})])])),default:p((()=>[c("div",U,[g(r,{ref:"ruleFormRef",model:u,rules:b,"label-width":"100px"},{default:p((()=>[g(t,{label:"账号",prop:"account"},{default:p((()=>[g(a,{modelValue:u.account,"onUpdate:modelValue":l[0]||(l[0]=e=>u.account=e),disabled:""},null,8,["modelValue"])])),_:1}),g(t,{label:"姓名",prop:"name"},{default:p((()=>[g(a,{modelValue:u.name,"onUpdate:modelValue":l[1]||(l[1]=e=>u.name=e)},null,8,["modelValue"])])),_:1}),g(t,{label:"性别",prop:"sex"},{default:p((()=>[g(d,{modelValue:u.sex,"onUpdate:modelValue":l[2]||(l[2]=e=>u.sex=e),placeholder:"请选择性别"},{default:p((()=>[g(o,{label:"男",value:"男"}),g(o,{label:"女",value:"女"})])),_:1},8,["modelValue"])])),_:1}),g(t,{label:"邮箱",prop:"email"},{default:p((()=>[g(a,{modelValue:u.email,"onUpdate:modelValue":l[3]||(l[3]=e=>u.email=e)},null,8,["modelValue"])])),_:1}),g(t,{label:"部门",prop:"department"},{default:p((()=>[g(d,{modelValue:u.department,"onUpdate:modelValue":l[4]||(l[4]=e=>u.department=e),placeholder:"请选择部门"},{default:p((()=>[g(o,{label:"总裁办",value:"总裁办"}),g(o,{label:"项目部",value:"项目部"})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])])),_:1},8,["modelValue"])}}});h.__scopeId="data-v-49635d34";export{y as _,h as a};
